# yaml-language-server: $schema=https://raw.githubusercontent.com/Open-CMSIS-Pack/devtools/schemas/projmgr/0.9.2/tools/projmgr/schemas/csolution.schema.json

solution:
  target-types:
    - type: CM0
      device: RteTest_ARMCM0_Dual:cm0_core1
      misc:
        - compiler: AC6
          C*: [-C-CPP-type-CM0]
          ASM: [-ASM-type-CM0]
          Link: [-Link-type-CM0]
          Lib: [-Lib-type-CM0]
      defines: 
        - DEF-CM0
        - DEF-CM0-to-be-removed
      undefines:
        - DEF-solution-to-be-removed
      add-paths:
        - /path/CM0
        - /path/CM0/to-be-removed
      del-paths:
        - /path/solution/to-be-removed

    - type: TestGen
      device: RteTestGen_ARMCM0
      misc:
        - compiler: AC6
          C*: [-C-CPP-type-CM3]
          ASM: [-ASM-type-CM3]
          Link: [-Link-type-CM3]
          Lib: [-Lib-type-CM3]
      defines:
        - DEF-CM3
        - DEF-CM3-to-be-removed
      undefines:
        - DEF-solution-to-be-removed
      add-paths:
        - /path/CM3
        - /path/CM3/to-be-removed
      del-paths:
        - /path/solution/to-be-removed

  build-types:
    - type: Debug
      compiler: AC6
      optimize: debug
      debug: on
      defines:
        - DEF-Debug
      undefines:
        - DEF-CM0-to-be-removed
        - DEF-CM3-to-be-removed
      add-paths:
        - /path/Debug
      del-paths:
        - /path/CM0/to-be-removed
        - /path/CM3/to-be-removed

    - type: Release
      compiler: GCC
      optimize: max
      debug: off
      defines:
        - DEF-Release
      undefines:
        - DEF-CM0-to-be-removed
        - DEF-CM3-to-be-removed
      add-paths:
        - /path/Release
      del-paths:
        - /path/CM0/to-be-removed
        - /path/CM3/to-be-removed

  packs:
    - pack: ARM::RteTestGenerator@0.1.0
      for-type: +TestGen
    - pack: ARM::RteTest_DFP@0.2.0
      for-type: +CM0
    - pack: ARM::RteTest_INVALID@1.2.3
      not-for-type: [.Debug+CM0,.Debug+TestGen,.Release+CM0, .Release+TestGen]

  projects:
    - project: ./TestProject2/test2.cproject.yml
      not-for-type: .Release
      defines:
        - DEF-solution
        - DEF-solution-to-be-removed
      undefines:
        - DEF-project-to-be-removed
      add-paths:
        - /path/solution/
        - /path/solution/to-be-removed
      del-paths:
        - /path/project/to-be-removed
